# Changelog

A/B 테스트 계산기의 모든 주요 변경사항을 기록합니다.

**버전**: 폴더·문서는 v1~v6. 계산기 화면 표기만 v4→Mark3, v5→Mark4, v6→Mark5로 표시.

---

## [v6] - 2025-02-06

### Added
- **방문 빈도 기반 K값 시스템**: 추정계수(K) 개념 도입
  - K=4.2 (평균 4회 이상): 메인홈, 검색홈
  - K=3.0 (평균 3회): 가게목록, 가게상세, 검색결과
  - K=2.0 (평균 1~2회): 주문내역, 주소설정
  - K=1.2 (평균 1회): 주문완료, 결제성공
- **나눗셈 공식**: `고유 유저 = (하루 방문수 × 실험 기간) ÷ K값`
- **실제 배민 지면 예시**: 각 빈도 그룹별 구체적인 지면 제시
- **개선된 실시간 피드백**: K값 기반 직관적 메시지

### Changed
- **2번 필드 문구**: "얼마나 자주 방문하나요?" → "몇 번 방문하나요?"
- **방문 빈도 선택**: 역순 리스팅 (4.2 → 3.0 → 2.0 → 1.2)
- **기본값**: 재방문 높음 → 평균 4회 이상 (K=4.2, 보수적 추정)
- **v5 대비 단순화**: 2차원 테이블 제거, 선형 보간 제거

### Removed
- ❌ 재방문 높음/보통/낮음/기타 (추상적 분류)
- ❌ 2차원 계수 테이블 (지면 유형 × 실험 기간)
- ❌ 선형 보간 알고리즘
- ❌ 고급 설정의 추정계수 직접 입력 옵션

### Technical
- `getKValue(visitFrequency)`: K값 조회 (1차원 고정값)
- K값 4개 고정: 1.2 / 2.0 / 3.0 / 4.2
- 피드백 메시지: K값별 맞춤형 설명 (emoji + message)

### Why K=4.2 as Default?
- 보수적 추정: K가 클수록 고유 유저 적게 → 샘플 더 확보 → 안전
- 과소 추정 방지: 실제 K=3.0인데 4.2로 → 괜찮음 / 실제 K=4.2인데 1.2로 → 위험!

---

## [v5] - 2025-02-06

### Added
- **지면별 재방문 계수 시스템**: 지면 유형과 실험 기간을 모두 고려한 2차원 계수 테이블
  - 재방문 높음 (홈/검색): 주 5~6회 방문
  - 재방문 보통 (리스트/상세): 주 4~5회 방문
  - 재방문 낮음 (주문/결제): 주 2~3회 방문
  - 기타 (설정/마이): 드물게 방문
- **2번 필드 신규 추가**: "사용자들이 얼마나 자주 방문하나요?"
- **선형 보간 알고리즘**: 테이블에 없는 기간도 정확한 계수 계산

### Changed
- **입력 순서 재설계**: 실험 기간 → 지면 유형 → 하루 방문수 (기간 먼저 정해야 계수 선택 의미있음)
- **목표 개선 버튼**: +5%/+10%/+20% (3개) → +1%/+2%/+3%/+4%/+5% (5개)
- **초기 상태**: 목표 개선 필드 미선택으로 변경 (의도적 선택 유도)
- **예시 텍스트**: 동적으로 표시 (baseline + MDE 입력 시에만)
- **기타 그룹 14일 계수**: 0.20 → 0.40 (더 현실적인 값)

### Technical
- `getCoefficient(duration, surfaceType)`: 2차원 테이블 조회
- 지면 유형 변경 시 실시간 피드백 자동 업데이트
- 계수 테이블: 4개 지면 유형 × 6개 기간 = 24개 계수

---

## [v4] - 2025-02-06

### Added
- **MDE 자동 계산 기능**: 실험 조건 기반으로 통계적 검증 가능 범위 자동 계산
- **실시간 피드백 시스템**: 입력 단계별 즉각적인 안내 메시지
  - 고유 유저 예상 (1~2번 입력 후)
  - MDE 계산 결과 (4번 입력 후)
  - 목표 vs MDE 비교 (5번 입력 후)
- **기간 제안 버튼**: 목표가 검증 불가능할 때 자동으로 대안 제시
- **입력 순서 재설계**: 실무 의사결정 흐름에 맞춰 조건 우선 입력

### Changed
- 입력 순서: 방문수 → 기간 → 배분 → 현재 지표 → 목표 개선
- 실험 기간 기본값: 7일 → 14일
- 1번 필드 안내 문구: "최근 2주~1개월 기준 하루 평균 방문자 수를 입력하세요"
- 버전명: v3.0 → v4 (계산기 UI 표기: Mark3)

### Fixed
- jStat 라이브러리 누락 이슈 해결 (CDN 추가)
- MDE 버튼 클릭 시 피드백 미반영 버그 수정
- `duration-feedback` 요소 참조 에러 수정

---

## [v2] - 2025-02-05

### Added
- **슬롯 자동 할당**: 10,000개 기준 최적 배분
- **배분 효율성 계산**: 50:50 대비 효율성 표시
- **SQL 쿼리 생성**: WW Applog, Perseus Log
- **중복 제거 계수**: 기간별 자동 계산 (1일~60일)
- **고급 설정**: 유의수준, 검정력, 추정 계수 커스터마이징

### Changed
- UI 디자인 개선: 그라데이션 배경, 카드형 레이아웃
- 입력 필드 단위 표시 개선

---

## [v1] - 2025-02-04

### Added
- **기본 샘플 크기 계산**: 전환율 기반 A/B 테스트 계산
- **목표 개선율 프리셋**: +5%, +10%, +20% 버튼
- **결과 섹션**: 필요 샘플 수, 기간, 슬롯 정보
- **날짜 범위 자동 계산**: 오늘 기준 실험 기간

### Technical
- Vanilla JavaScript 구현
- jStat 라이브러리 통합
- GitHub Pages 배포

---

## 버전 히스토리 요약

| 버전 | UI 표기 | 출시일 | 주요 기능 |
|------|--------|--------|-----------|
| v6 | Mark5 | 2025-02-06 | 방문 빈도 기반 K값, 나눗셈 공식, 코드 단순화 |
| v5 | Mark4 | 2025-02-06 | 지면별 재방문 계수, 2차원 테이블 |
| v4 | Mark3 | 2025-02-06 | MDE 자동 계산, 실시간 피드백 |
| v2 | — | 2025-02-05 | 슬롯 할당, SQL 쿼리 생성 |
| v1 | — | 2025-02-04 | 기본 계산기 |

---

## 향후 계획

### v7 (검토 중)
- [ ] 지면별 K값 세분화 (예: 검색결과 vs 카테고리별 리스트)
- [ ] 기간별 K값 변동 반영 (14일 vs 30일)

### 장기 계획
- [ ] 다크 모드 지원
- [ ] 모바일 최적화
- [ ] 계산 결과 PDF/CSV 다운로드
- [ ] 여러 지표 동시 계산 (전환율 + 평균 주문액)
